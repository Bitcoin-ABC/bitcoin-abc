# Copyright (c) 2026 The Bitcoin developers
# Distributed under the MIT software license, see the accompanying
# file COPYING or http://www.opensource.org/licenses/mit-license.php.

# Database Connection String (NeonDB/Postgres)
# Alternative: Use DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD instead
DATABASE_URL=postgresql://user:password@host:port/dbname?sslmode=require

# Chronik Configuration
# These servers must be indexed with agora.py plugin for agora functionality
CHRONIK_URLS=https://chronik-native2.fabien.cash,https://chronik-native3.fabien.cash,https://chronik-native1.fabien.cash
CHRONIK_STRATEGY=closestFirst

# Logging (winston levels: error, warn, info, verbose, debug, silly)
# Code uses: error, warn, info, debug
LOG_LEVEL=info

# Cron Schedule (every 6 hours)
CRON_SCHEDULE=0 */6 * * *

# Initial Indexing Configuration
# Set this to start indexing from a specific block height (e.g., 900000 for testing)
# For prod, should be 0 to index everything
INITIAL_INDEX_START=850000

# Indexing Performance Configuration
# Batch size for processing transactions (default: 200)
INDEXING_BATCH_SIZE=200

# Target number of transactions per batch (default: 10000)
# Lower values = smaller batches = less memory usage but slower processing
# Higher values = larger batches = faster processing but more memory usage
TARGET_TX_COUNT_PER_BATCH=10000

# Maximum number of batches to process concurrently (default: 3)
# Lower values = less memory usage but slower processing
# Higher values = faster processing but more memory usage
# OPTIMAL for Railway $5 hobby plan (8GB RAM, 8 vCPU): 12
# WARNING: 13+ batches may cause API rate limiting or connection issues
INDEXING_MAX_CONCURRENT_BATCHES=12 
